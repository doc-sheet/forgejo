<h4 class="ui top attached header" id="overview">
	{{ctx.Locale.Tr "repo.settings.units.overview"}}
</h4>
<div class="ui attached segment">
	{{$isCodeEnabled := .Repository.UnitEnabled $.Context $.UnitTypeCode}}
	{{$isCodeGlobalDisabled := .UnitTypeCode.UnitGlobalDisabled}}
	<div class="inline field">
		<label>{{ctx.Locale.Tr "repo.code"}}</label>
		<div class="ui checkbox{{if $isCodeGlobalDisabled}} disabled{{end}}"{{if $isCodeGlobalDisabled}} data-tooltip-content="{{ctx.Locale.Tr "repo.unit_disabled"}}"{{end}}>
			<input class="enable-system" name="enable_code" type="checkbox"{{if $isCodeEnabled}} checked{{end}}>
			<label>{{ctx.Locale.Tr "repo.code.desc"}}</label>
		</div>
	</div>

	{{$isProjectsEnabled := .Repository.UnitEnabled $.Context $.UnitTypeProjects}}
	{{$isProjectsGlobalDisabled := .UnitTypeProjects.UnitGlobalDisabled}}
	{{$projectsUnit := .Repository.MustGetUnit $.Context $.UnitTypeProjects}}
	<div class="inline field">
		<label>{{ctx.Locale.Tr "repo.project_board"}}</label>
		<div class="ui checkbox{{if $isProjectsGlobalDisabled}} disabled{{end}}"{{if $isProjectsGlobalDisabled}} data-tooltip-content="{{ctx.Locale.Tr "repo.unit_disabled"}}"{{end}}>
			<input class="enable-system" name="enable_projects" data-target="#projects_box" type="checkbox" {{if $isProjectsEnabled}}checked{{end}}>
			<label>{{ctx.Locale.Tr "repo.settings.projects_desc"}}</label>
		</div>
		<div class="field {{if not $isProjectsEnabled}} disabled{{end}} gt-pl-4" id="projects_box">
			<p>
				{{ctx.Locale.Tr "repo.settings.projects_mode_desc"}}
			</p>
			<div class="ui dropdown selection">
				<select name="projects_mode">
					<option value="repo" {{if or (not $isProjectsEnabled) (eq $projectsUnit.ProjectsConfig.ProjectsMode "repo")}}selected{{end}}>{{ctx.Locale.Tr "repo.settings.projects_mode_repo"}}</option>
					<option value="owner" {{if or (not $isProjectsEnabled) (eq $projectsUnit.ProjectsConfig.ProjectsMode "owner")}}selected{{end}}>{{ctx.Locale.Tr "repo.settings.projects_mode_owner"}}</option>
					<option value="all" {{if or (not $isProjectsEnabled) (eq $projectsUnit.ProjectsConfig.ProjectsMode "all")}}selected{{end}}>{{ctx.Locale.Tr "repo.settings.projects_mode_all"}}</option>
				</select>
				{{svg "octicon-triangle-down" 14 "dropdown icon"}}
				<div class="default text">
					{{if (eq $projectsUnit.ProjectsConfig.ProjectsMode "repo")}}
						{{ctx.Locale.Tr "repo.settings.projects_mode_repo"}}
					{{end}}
					{{if (eq $projectsUnit.ProjectsConfig.ProjectsMode "owner")}}
						{{ctx.Locale.Tr "repo.settings.projects_mode_owner"}}
					{{end}}
					{{if (eq $projectsUnit.ProjectsConfig.ProjectsMode "all")}}
						{{ctx.Locale.Tr "repo.settings.projects_mode_all"}}
					{{end}}
				</div>
				<div class="menu">
					<div class="item" data-value="repo">{{ctx.Locale.Tr "repo.settings.projects_mode_repo"}}</div>
					<div class="item" data-value="owner">{{ctx.Locale.Tr "repo.settings.projects_mode_owner"}}</div>
					<div class="item" data-value="all">{{ctx.Locale.Tr "repo.settings.projects_mode_all"}}</div>
				</div>
			</div>
		</div>
	</div>

	{{$isReleasesEnabled := .Repository.UnitEnabled $.Context $.UnitTypeReleases}}
	{{$isReleasesGlobalDisabled := .UnitTypeReleases.UnitGlobalDisabled}}
	<div class="inline field">
		<label>{{ctx.Locale.Tr "repo.releases"}}</label>
		<div class="ui checkbox{{if $isReleasesGlobalDisabled}} disabled{{end}}"{{if $isReleasesGlobalDisabled}} data-tooltip-content="{{ctx.Locale.Tr "repo.unit_disabled"}}"{{end}}>
			<input class="enable-system" name="enable_releases" type="checkbox" {{if $isReleasesEnabled}}checked{{end}}>
			<label>{{ctx.Locale.Tr "repo.settings.releases_desc"}}</label>
		</div>
	</div>

	{{$isPackagesEnabled := .Repository.UnitEnabled $.Context $.UnitTypePackages}}
	{{$isPackagesGlobalDisabled := .UnitTypePackages.UnitGlobalDisabled}}
	<div class="inline field">
		<label>{{ctx.Locale.Tr "repo.packages"}}</label>
		<div class="ui checkbox{{if $isPackagesGlobalDisabled}} disabled{{end}}"{{if $isPackagesGlobalDisabled}} data-tooltip-content="{{ctx.Locale.Tr "repo.unit_disabled"}}"{{end}}>
			<input class="enable-system" name="enable_packages" type="checkbox" {{if $isPackagesEnabled}}checked{{end}}>
			<label>{{ctx.Locale.Tr "repo.settings.packages_desc"}}</label>
		</div>
	</div>

	{{if .EnableActions}}
		{{$isActionsEnabled := .Repository.UnitEnabled $.Context $.UnitTypeActions}}
		{{$isActionsGlobalDisabled := .UnitTypeActions.UnitGlobalDisabled}}
		<div class="inline field">
			<label>{{ctx.Locale.Tr "actions.actions"}}</label>
			<div class="ui checkbox{{if $isActionsGlobalDisabled}} disabled{{end}}"{{if $isActionsGlobalDisabled}} data-tooltip-content="{{ctx.Locale.Tr "repo.unit_disabled"}}"{{end}}>
				<input class="enable-system" name="enable_actions" type="checkbox" {{if $isActionsEnabled}}checked{{end}}>
				<label>{{ctx.Locale.Tr "repo.settings.actions_desc"}}</label>
			</div>
		</div>
	{{end}}

	<div class="divider"></div>

	<div class="field">
		<button class="ui primary button">{{ctx.Locale.Tr "repo.settings.update_settings"}}</button>
	</div>
</div>
